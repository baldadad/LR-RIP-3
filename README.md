# Обработка метаданных изображений
Лабораторная работа номер 3.
Проект построен на Spring Boot и Spring Boot и WebFlux.

Цель: научиться выявлять и устранять узкие места в Java-приложениях, используя современные инструменты профилирования, и оптимизировать реализацию их серверного микросервиса из ЛР2, который был намеренно реализован «неэффективно». 

Задачи: 
1.Запустить свой сервис B (сервер) в режиме, позволяющем профилирование. 
2.Провести анализ работы приложения с помощью нескольких инструментов: 
- Java Flight Recorder (JFR) 
- Java Mission Control (JMC) 
- VisualVM 
- Async Profiler 
- (опционально) IntelliJ Profiler 
3.Найти в сервисе:
- CPU hot spots 
- allocation hot spots 
- неэффективные алгоритмы 
- чрезмерное создание объектов 
- неоптимальные структуры данных
4.Описать проблему.
5.Оптимизировать код.
6.Повторно провести профилирование

С помощью инструмента JDK Mission Control оценим профиль работы примера неоптимизированного кода, а затем, после оптимизации сравним профиль после. В качестве метрики для оценки нагрузки возьмем назгрузку на ЦП в пике, при остальных одиннаковых условиях.
Оптимизирование программы было выполнено посредством удаления бесполезных вычислений, которые просто так тратили ресурсы ЦП, вроде преобразования строки.

Пиковая нагрузка на процессор до оптимизации

![Пиковая нагрузка на процессор до оптимизации](/Screenshot%202026-01-04%20205136.png)

Пиковая нагрузка на процессор после оптимизации

![Пиковая нагрузка на процессор после оптимизации](/Screenshot%202026-01-04%20205204.png)

Как можно заметить, разница между программой до и после оптимизации достаточно велика. Профилирование программы позволило определить разницу между программами.

Для работы проекта нужно иметь Java версии 17 или выше, а также другие необходимые утилиты.
Для запуска проекта необходимо скачать архив и затем, распаковав его, открыть две папки: service-a-client и service-b-client. В командной строке, находясь в указанных папках нужно запустить программы, командой .\mvnw spring-boot: run из обеих папок. Чтобы загрузить метаданные нужно перейти по ссылке http://localhost:8080/client/images/1/metadata.
